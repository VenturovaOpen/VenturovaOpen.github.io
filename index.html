<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Venturova Open</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* =========================
       VARIABLES DE COLOR
    ========================= */
    :root {
      --gold: #FFC800; /* amarillo oro brillante */
      --black: #1C1C1C;
      --gray-dark: #2E2E2E;
      --gray-light: #555;
      --accent: #FFDA50; /* acento cálido para botones y detalles */
      --white: #FFFFFF;
    }

    /* =========================
       RESET Y TIPOGRAFÍA
    ========================= */
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: var(--black);
      color: var(--white);
      overflow-x: hidden;
    }
    a { text-decoration: none; color: var(--gold); }
    button {
      font-family: inherit;
      cursor: pointer;
      border: none;
      background-color: var(--gold);
      color: var(--black);
      padding: 8px 14px;
      border-radius: 6px;
      transition: 0.3s;
    }
    button:hover { background-color: var(--accent); }

    /* =========================
       LAYOUT PRINCIPAL
    ========================= */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: var(--gray-dark);
      padding: 10px 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.5);
    }
    header h1 {
      color: var(--gold);
      font-size: 1.8rem;
    }
    nav a {
      margin-left: 15px;
      font-weight: 600;
    }
    main { padding: 20px; }
    section {
      margin-bottom: 40px;
      padding: 20px;
      background-color: var(--gray-dark);
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.3s;
    }
    section:hover { transform: translateY(-3px); }
    h2 { color: var(--gold); margin-bottom: 15px; }

    /* =========================
       BOTONES DE REDES
    ========================= */
    .social-buttons {
      display: flex;
      gap: 10px;
    }

    /* =========================
       MINI-JUEGO
    ========================= */
    #gameContainer {
      position: relative;
      width: 100%;
      max-width: 600px;
      height: 400px;
      margin: 0 auto;
      background: linear-gradient(135deg, #222 0%, #111 100%);
      border: 3px solid var(--gold);
      border-radius: 12px;
      overflow: hidden;
    }
    #player {
      position: absolute;
      width: 40px;
      height: 40px;
      background-color: var(--gold);
      border-radius: 6px;
      left: 50px;
      bottom: 180px;
      transition: all 0.1s linear;
    }
    .obstacle {
      position: absolute;
      width: 30px;
      height: 30px;
      background-color: var(--accent);
      border-radius: 6px;
      right: 0;
    }
    .powerup {
      position: absolute;
      width: 25px;
      height: 25px;
      background-color: #4BCFFA;
      border-radius: 50%;
      right: 0;
    }

    /* =========================
       RANKING
    ========================= */
    .ranking {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .ranking-item {
      display: flex;
      justify-content: space-between;
      background-color: var(--gray-light);
      padding: 10px;
      border-radius: 8px;
      color: var(--black);
      font-weight: 600;
    }

    /* =========================
       PANEL OCULTO ADMIN
    ========================= */
    #adminPanel {
      display: none;
      background-color: #111;
      padding: 20px;
      border-radius: 12px;
      color: var(--white);
    }
    #adminPanel table {
      width: 100%;
      border-collapse: collapse;
    }
    #adminPanel th, #adminPanel td {
      border: 1px solid var(--gray-light);
      padding: 8px;
      text-align: center;
    }
    #adminPanel th { background-color: var(--gold); color: var(--black); }

  </style>
</head>
<body>
  <!-- ================= HEADER ================= -->
  <header>
    <h1>Venturova Open</h1>
    <nav>
      <a href="#game">Mini-Juego</a>
      <a href="#ranking">Ranking</a>
      <a href="#tournaments">Torneos</a>
      <div class="social-buttons">
        <a href="https://youtube.com/@venturova11?si=3mxNVjsvUieVG-x8" target="_blank">YouTube</a>
      </div>
    </nav>
  </header>

  <!-- ================= MAIN ================= -->
  <main>
    <!-- ================= MINI-JUEGO ================= -->
    <section id="game">
      <h2>Mini-Juego Arcade</h2>
      <div id="gameContainer">
        <div id="player"></div>
      </div>
      <p>Usa W/S o flechas arriba/abajo (PC) o botones táctiles (móvil) para moverte. Evita obstáculos y recoge power-ups.</p>
      <p>Puntos: <span id="score">0</span></p>
    </section>

    <!-- ================= RANKING ================= -->
    <section id="ranking">
      <h2>Ranking Global</h2>
      <div class="ranking" id="rankingList">
        <!-- Se llenará dinámicamente -->
      </div>
    </section>

    <!-- ================= TORNEOS ================= -->
    <section id="tournaments">
      <h2>Torneos Automáticos</h2>
      <p>Inscríbete en torneos y compite por recompensas exclusivas. Próximamente integración de pagos y premios.</p>
    </section>

    <!-- ================= PANEL OCULTO ADMIN ================= -->
    <div id="adminPanel">
      <h2>Panel Oculto de Administración</h2>
      <table>
        <thead>
          <tr>
            <th>Jugador</th>
            <th>Torneo</th>
            <th>Recompensa</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody id="adminTableBody">
          <!-- Llenado dinámico -->
        </tbody>
      </table>
    </div>
  </main>

  <!-- ================= SCRIPTS ================= -->
  <script>
    // ================= MINIJUEGO =================
    const player = document.getElementById('player');
    const gameContainer = document.getElementById('gameContainer');
    const scoreElement = document.getElementById('score');
    const rankingList = document.getElementById('rankingList');
    let score = 0;
    let playerPos = 180;
    const obstacles = [];
    const powerups = [];

    // Controles
    document.addEventListener('keydown', (e) => {
      if(e.key === 'ArrowUp' || e.key === 'w') movePlayer(20);
      if(e.key === 'ArrowDown' || e.key === 's') movePlayer(-20);
    });

    function movePlayer(delta) {
      playerPos += delta;
      if(playerPos < 0) playerPos = 0;
      if(playerPos > gameContainer.clientHeight - 40) playerPos = gameContainer.clientHeight - 40;
      player.style.bottom = playerPos + 'px';
    }

    // Generar obstáculos
    function spawnObstacle() {
      const obstacle = document.createElement('div');
      obstacle.classList.add('obstacle');
      obstacle.style.top = Math.random() * (gameContainer.clientHeight - 30) + 'px';
      gameContainer.appendChild(obstacle);
      obstacles.push({el: obstacle, x: gameContainer.clientWidth});
    }

    // Generar power-ups
    function spawnPowerup() {
      const powerup = document.createElement('div');
      powerup.classList.add('powerup');
      powerup.style.top = Math.random() * (gameContainer.clientHeight - 25) + 'px';
      gameContainer.appendChild(powerup);
      powerups.push({el: powerup, x: gameContainer.clientWidth});
    }

    // Actualizar juego
    function gameLoop() {
      // Obstáculos
      obstacles.forEach((o, i) => {
        o.x -= 5;
        if(o.x < -30) { o.el.remove(); obstacles.splice(i,1); score += 1; scoreElement.textContent = score; }
        o.el.style.right = o.x + 'px';
        if(checkCollision(player, o.el)) { alert('Game Over! Puntos: ' + score); resetGame(); }
      });

      // Power-ups
      powerups.forEach((p, i) => {
        p.x -= 5;
        if(p.x < -25) { p.el.remove(); powerups.splice(i,1); }
        p.el.style.right = p.x + 'px';
        if(checkCollision(player, p.el)) { score += 5; scoreElement.textContent = score; p.el.remove(); powerups.splice(i,1); }
      });

      // Spawn aleatorio
      if(Math.random() < 0.02) spawnObstacle();
      if(Math.random() < 0.01) spawnPowerup();

      requestAnimationFrame(gameLoop);
    }

    function checkCollision(a, b) {
      const aRect = a.getBoundingClientRect();
      const bRect = b.getBoundingClientRect();
      return !(aRect.right < bRect.left || aRect.left > bRect.right || aRect.bottom < bRect.top || aRect.top > bRect.bottom);
    }

    function resetGame() {
      obstacles.forEach(o => o.el.remove());
      powerups.forEach(p => p.el.remove());
      obstacles.length = 0;
      powerups.length = 0;
      score = 0;
      scoreElement.textContent = score;
      playerPos = 180;
      player.style.bottom = playerPos + 'px';
    }

    // Iniciar juego
    gameLoop();

    // ================= RANKING EJEMPLO =================
    const rankingData = [
      {player: "Jugador1", score: 150},
      {player: "Jugador2", score: 120},
      {player: "Jugador3", score: 100},
      {player: "Jugador4", score: 80},
      {player: "Jugador5", score: 50}
    ];

    function renderRanking() {
      rankingList.innerHTML = '';
      rankingData.sort((a,b) => b.score - a.score).forEach((r,i) => {
        const div = document.createElement('div');
        div.classList.add('ranking-item');
        div.innerHTML = `<span>#${i+1} ${r.player}</span><span>${r.score} pts</span>`;
        rankingList.appendChild(div);
      });
    }
    renderRanking();

    // ================= PANEL ADMIN OCULTO =================
    const adminEmail = 'venturovaopen@gmail.com';
    const currentUserEmail = prompt("Ingresa tu correo para panel admin (solo visible para ti):");
    if(currentUserEmail === adminEmail) {
      document.getElementById('adminPanel').style.display = 'block';
      // Ejemplo de datos admin
      const adminData = [
        {player:'Jugador1', tournament:'Torneo 1', reward:'Skin dorada', status:'Pendiente'},
        {player:'Jugador2', tournament:'Torneo 1', reward:'100 pts', status:'Pagado'}
      ];
      const tbody = document.getElementById('adminTableBody');
      adminData.forEach(d => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${d.player}</td><td>${d.tournament}</td><td>${d.reward}</td><td>${d.status}</td>`;
        tbody.appendChild(tr);
      });
    }

  </script>
</body>
</html>
